<!-- <div *ngIf="loading" class="d-flex flex-column align-items-center justify-content-center vh-100">
  <div class="spinner-border text-light" role="status">
    <span class="visually-hidden">Loading...</span>
  </div>
  <p class="mt-3 text-white fw-bold">Loading note details...</p>
</div>


<section *ngIf="!loading" class="bg-dark min-vh-100 d-flex flex-column justify-content-center align-items-center py-5 px-3">
  <h1 class="text-white text-center mb-4">Note Details</h1>

  <div class="bg-secondary text-white rounded p-4 w-100" style="max-width: 600px;">
    <h3 class="mb-4 text-center">Description</h3>

    <div class="mb-3">
      <p><strong>Title:</strong> {{note?.title}}</p>
    </div>

    <div class="mb-3">
      <p><strong>Category:</strong> {{note?.category}}</p>
    </div>

    <div class="mb-3">
      <p><strong>Content:</strong> {{note?.content}}</p>
    </div>

    <div class="mb-3">
      <p><strong>Priority:</strong> {{note?.priority}}</p>
    </div>

    <div class="text-center">
      <p><strong>Tags:</strong> {{note?.tags}}</p>
    </div>
  </div>

  <div class="mt-5 d-flex flex-column align-items-center gap-3">
    <div class="d-flex gap-3">
      <button (click)="confirmDelete(note)" class="btn btn-danger d-flex align-items-center">
        <i class="bi bi-trash"></i>
        <span>Delete</span>
      </button>

      <button (click)="editNote(note)" class="btn btn-success d-flex align-items-center">
        <i class="bi bi-pencil-square"></i>
        <span>Update</span>
      </button>
    </div>

    <button class="btn btn-outline-light mt-2" [routerLink]="'/notes'">
      Back to Notes
    </button>
  </div>
</section>

<div *ngIf="noteToDelete" class="popup-overlay d-flex justify-content-center align-items-center">
  <div class="popup bg-white text-dark p-4 rounded shadow" style="width: 300px;">
    <p class="mb-3 text-center">Are you sure you want to delete this note?</p>
    <div class="d-flex justify-content-around">
      <button (click)="deleteNote(noteToDelete)" class="btn btn-danger">Yes, Delete</button>
      <button (click)="cancelDelete()" class="btn btn-secondary">Cancel</button>
    </div>
  </div>
</div> -->


<app-navbar></app-navbar>

<!-- Loading State -->
<div *ngIf="loading" class="loading-container">
  <div class="spinner-border text-primary" role="status">
    <span class="visually-hidden">Loading...</span>
  </div>
  <p class="mt-3">Loading note details...</p>
</div>

<!-- Note Details -->
<div *ngIf="!loading" class="notes-container">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-lg-8">
        <div class="card note-card shadow-sm">
          <div class="card-body">
            <h2 class="card-title text-center mb-4">{{ note?.title }}</h2>
            
            <div class="note-content mb-4 d-flex justify-content-between">
              <p class="card-text">{{ note?.content }}</p>
              <div class="tags-container mb-4" *ngIf="note?.tags">
                <span class="tag" *ngFor="let tag of note?.tags?.split(',')">
                  {{ tag.trim() }}
                </span>
              </div> 
            </div>
            
            <div class="note-meta d-flex justify-content-between mb-4 ">
              <span class="badge category-badge">{{ note?.category }}</span>
              <span class="priority priority-{{note?.priority?.toLowerCase()}}">
                <i class="fas fa-flag me-1"></i>{{ note?.priority }}
              </span>
            </div>
            
             <!-- <div class="tags-container mb-4" *ngIf="note?.tags">
              <span class="tag" *ngFor="let tag of note?.tags?.split(',')">
                {{ tag.trim() }}
              </span>
            </div>  -->
            
            <div class="card-actions d-flex justify-content-between align-items-center">
              <button class="btn btn-outline-primary" [routerLink]="'/notes'">
                <i class="fas fa-arrow-left me-2"></i>Back to Notes
              </button>
              
              <div class="action-buttons">
                <button class="btn btn-edit me-2" (click)="editNote(note)">
                  <i class="fas fa-edit me-1"></i>Edit
                </button>
                <button class="btn btn-delete" (click)="confirmDelete(note)">
                  <i class="fas fa-trash-alt me-1"></i>Delete
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Delete Confirmation Popup -->
<div *ngIf="noteToDelete" class="popup-overlay">
  <div class="popup">
    <div class="popup-content">
      <i class="fas fa-exclamation-circle warning-icon"></i>
      <h5>Delete Note</h5>
      <p>Are you sure you want to delete "{{noteToDelete.title}}"?</p>
      <div class="popup-actions">
        <button class="btn btn-confirm" (click)="deleteNote(noteToDelete)">
          <i class="fas fa-trash-alt me-1"></i>Delete
        </button>
        <button class="btn btn-cancel" (click)="cancelDelete()">
          <i class="fas fa-times me-1"></i>Cancel
        </button>
      </div>
    </div>
  </div>
</div>